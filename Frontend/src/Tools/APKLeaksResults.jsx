import React from "react";

const APKLeaksResults = ({ commandResult }) => {
  const styles = {
    container: {
      border: '1px solid #007bff',
      borderRadius: '5px',
      backgroundColor: '#e7f1ff',
      padding: '1em',
      whiteSpace: 'pre-wrap', 
      overflowX: 'auto',
    },
    title: {
      fontSize: '1.5em',
      fontWeight: 'bold',
      color: '#333',
      marginBottom: '0.5em',
    },
    link: {
      color: '#007bff',
      textDecoration: 'underline',
    },
  };

  const formatCommandResult = (result) => {
    if (!result) return null; 

    // Split by lines and map through them
    return result.split('\n').map((line, index) => {
      // Check if the line is a link and format accordingly
      if (line.startsWith('- ')) {
        const url = line.slice(2); // Remove the "- " from the start
        return (
          <div key={index}>
            <span style={styles.link}>{url}</span>
          </div>
        );
      }
      return <div key={index}>{line}</div>; // Return regular lines as they are
    });
  };

  return (
    <div style={styles.container}>
      <h3 style={styles.title}>Command Result:</h3>
      {formatCommandResult(commandResult)}
    </div>
  );
};

export default APKLeaksResults;
